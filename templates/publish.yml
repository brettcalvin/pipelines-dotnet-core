# File: stages/publish.yml

stages:
- stage: Publish_${{ parameters.buildConfiguration }}
  jobs:
  - job: ${{ parameters.buildConfiguration }}_Windows
    pool:
      vmImage: vs2017-win2016
    steps:
      - task: PublishBuildArtifacts@1

      - task: DotNetCoreCLI@2
        inputs:
          command: publish
          publishWebProjects: True
          arguments: '--configuration ${{ parameters.buildConfiguration }} --output $(Build.ArtifactStagingDirectory)'
          zipAfterPublish: True

